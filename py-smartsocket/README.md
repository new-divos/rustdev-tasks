# py-smartsocket

Управление умной розеткой с помощью скрипта, написанного на языке программирования Python.

### Установка и использование пакета

1. Создать виртуальное окружение

```shell
python -m venv .venv
```

2. Активировать виртуальное окружение, например, для PowerShell

```powershell
.\.venv\Scripts\Activate.ps1
```

3. Установить требуемые пакеты

```shell
pip install -r requirements-dev.txt
```

4. Собрать пакет языка программирования Python и установить его в созданное виртуальное окружение.

```shell
maturin develop
```

5. После чего возможно использовать класс `SmartSocketClient` пакета `pysmartsocket` в интерактивном и пакетном режимах. Например при запуске

```shell
python ./examples/smartsocket-client.py
```

для [сервера](https://codeberg.org/new-divos/rustdev-tasks/src/branch/main/smarthome2/examples/smartsocket_server.rs) будет выведена следующая информация

```none
Соединение с умной розеткой не установлено
Установлено соединение с умной розеткой по адресу "127.0.0.1:55333", розетка выключена
Установлено соединение с умной розеткой по адресу "127.0.0.1:55333", розетка включена, потребляемая моoщьность 3000 Вт.
Установлено соединение с умной розеткой по адресу "127.0.0.1:55333", розетка выключена
```
